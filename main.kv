MDBoxLayout:
    orientation: 'vertical'
    md_bg_color: self.theme_cls.backgroundColor

    MDScreenManager:
        id: screen_manager

        BaseScreen:
            name: '发送文件'

            MDButton:
                style: 'elevated'
                on_press: app.file_manager_open()
                pos_hint: {'center_x': .5, 'center_y': .5}

                MDButtonText:
                    text: '选择文件'

        BaseScreen:
            name: 'NAS'

            MDBoxLayout:
                size_hint: 1., 1.
                md_bg_color: self.theme_cls.backgroundColor
                orientation: 'vertical'

                MDAnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'bottom'
                    size_hint_y: .2

                    MDAnchorLayout:
                        anchor_x: 'center'
                        anchor_y: 'bottom'
                        size_hint_y: .2

                        MDButton:
                            style: 'text'
                            MDButtonText:
                                text: '扫描此码打开共享地址'

                MDBoxLayout:
                    Widget:
                        size_hint_x: .2
                    QRCodeWidget:
                        data: app.url or ''
                        show_border: False
                        background_color: app.theme_cls.backgroundColor
                    Widget:
                        size_hint_x: .2

                Widget:
                    size_hint_y: .05
                MDAnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'top'
                    size_hint_y: .2
                    MDButton:
                        style: 'text'
                        MDButtonText:
                            text: app.url or ''

    MDNavigationBar:
        on_switch_tabs: app.on_switch_tabs(*args)

        BaseMDNavigationItem
            icon: 'file-upload-outline'
            text: '发送文件'

        BaseMDNavigationItem
            icon: 'nas'
            text: 'NAS'

<BaseMDNavigationItem>

    MDNavigationItemIcon:
        icon: root.icon

    MDNavigationItemLabel:
        text: root.text

<BaseScreen>

    MDLabel:
        text: root.name
        halign: 'center'
